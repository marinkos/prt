(()=>{var Z=document.getElementById("cursor"),I=20,Y=Math.floor(I*.3),V=26,ee=150,j=0,b={x:0,y:0},g=[],H,x=!1,F=.05,O=.35,p=V/2,te=.05,oe=.75,L=class{constructor(e=0){this.index=e,this.x=0,this.y=0,this.scale=1-te*e,this.range=p-p*this.scale+2,this.limit=V*oe*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),Z.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!x||this.index<=Y?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=F,this.angleY+=F,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},se=t=>{b.x=t.clientX-p,b.y=t.clientY-p,R()},ne=t=>{t.touches.length>0&&(b.x=t.touches[0].clientX-p,b.y=t.touches[0].clientY-p,R())};function le(){window.addEventListener("mousemove",se,{passive:!0}),window.addEventListener("touchmove",ne,{passive:!0}),j=performance.now(),ce(),X()}function ie(){H=setTimeout(re,ee),x=!1}function R(){clearTimeout(H),ie()}function re(){x=!0;for(let t=0;t<g.length;t++)g[t].lock()}function ce(){g=new Array(I);for(let t=0;t<I;t++)g[t]=new L(t)}var X=t=>{ae(),j=t,requestAnimationFrame(X)},ae=()=>{let t=b.x,e=b.y,o=x,n=Y;for(let s=0;s<g.length;s++){let l=g[s],c=g[s+1]||g[0];l.x=t,l.y=e,l.draw(),(!o||s<=n)&&(t+=(c.x-l.x)*O,e+=(c.y-l.y)*O)}};le();var q=document.querySelector('[wb-data="text"]'),he=new SplitText(q,{type:"lines"});gsap.set(q,{autoAlpha:1});gsap.from(he.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"});var i=document.querySelector("canvas");i||(i=document.createElement("canvas"),i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.pointerEvents="none",i.style.zIndex="1000",i.style.width="18.75em",i.style.height="auto",i.style.display="none",document.body.appendChild(i));var d=i.getContext("2d"),h=[...document.querySelectorAll(".project_item")];function A(t,e,o){return t*(1-o)+e*o}var C=0,M=!1,k=.8,B=.8,z=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e754aff0f5394a252a_koi.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],y=[],U=0,W=0,_=0,D=0;window.addEventListener("mousemove",t=>{U=t.clientX,W=t.clientY});var G=0;z.forEach((t,e)=>{let o=new Image;o.onload=()=>{G++,G===z.length&&J()},o.style.width="18.75em",o.style.height="auto",o.style.objectFit="cover",o.classList.add("project-image"),o.style.display="none",o.src=t,document.body.append(o),y.push(o)});var N=0;function de(t){if(!M)return;let o=18.75*parseFloat(getComputedStyle(document.body).fontSize),n=y[t].naturalHeight/y[t].naturalWidth,s=o*n;i.width=o*window.devicePixelRatio,i.height=s*window.devicePixelRatio,i.style.width="18.75em",i.style.height="auto",d.webkitImageSmoothingEnabled=!0,d.mozImageSmoothingEnabled=!0,d.msImageSmoothingEnabled=!0,d.imageSmoothingEnabled=!0,d.save(),d.scale(window.devicePixelRatio,window.devicePixelRatio),d.translate(o/2,s/2),d.scale(k,k),d.translate(-o/2,-s/2),d.drawImage(y[t],0,0,o,s),d.restore()}for(let t=0;t<h.length;t++)h[t].addEventListener("mouseover",()=>{for(let e=0;e<h.length;e++)e!==t?(h[e].style.opacity=.2,h[e].style.zIndex=0):(h[e].style.opacity=1,h[e].style.zIndex=3);i.style.display="block"}),h[t].addEventListener("mouseleave",()=>{for(let e=0;e<h.length;e++)h[e].style.opacity=1;i.style.display="none"}),h[t].addEventListener("mouseenter",()=>{C=t,N=1,M=!0,B=1,i.style.display="block"}),h[t].addEventListener("mouseleave",()=>{N=0,M=!1,B=.8,i.style.display="none"});function J(){_=A(_,U,.075),D=A(D,W,.075),k=A(k,B,.1);let e=18.75*parseFloat(getComputedStyle(document.body).fontSize),o=y[C].naturalHeight/y[C].naturalWidth,n=e*o;i.style.transform=`translate3d(${_-e/2}px, ${D-n/2}px, 0)`,de(C),window.requestAnimationFrame(J)}gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var fe=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();console.log("\u{1F50D} Theme Collector: Starting collection...");function K(){let t=[];return document.querySelectorAll("*").forEach(o=>{let n=window.getComputedStyle(o),s=!1,l=o.style.cssText;l.includes("var(--_theme")&&(console.log("\u{1F3A8} Found element with theme variables:",o),console.log("   CSS:",l),t.push({element:o,cssText:l}));let c={backgroundColor:n.backgroundColor,color:n.color,borderColor:n.borderColor};Object.entries(c).forEach(([f,w])=>{w.includes("var(--_theme")&&(console.log(`\u{1F3A8} Found ${f} using theme variable:`,o),console.log(`   Value: ${w}`))})}),t}function Q(){let t=document.documentElement,e=window.getComputedStyle(t);console.log("\u{1F3A8} CSS Variables found:");let o=[];for(let n=0;n<e.length;n++){let s=e[n];if(s.startsWith("--_theme")){let l=e.getPropertyValue(s);console.log(`   ${s}: ${l}`),o.push({property:s,value:l})}}return o}function me(){let t=document.querySelector("[data-theme-toggle-button]");t?(console.log("\u2705 Theme toggle button found:",t),console.log("   Classes:",t.className),console.log("   Attributes:",t.attributes)):console.log("\u274C Theme toggle button not found")}function ue(){let e=document.documentElement.getAttribute("data-theme");console.log("\u{1F3AD} Current theme:",e||"light (default)");let o=document.body,n=window.getComputedStyle(o);console.log("\u{1F3A8} Body styles:"),console.log("   Background:",n.backgroundColor),console.log("   Color:",n.color)}function P(){console.log("=== THEME SYSTEM DEBUG ==="),me(),ue(),Q(),K(),console.log("=== END DEBUG ===")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",P):P();window.themeCollector={debug:P,collectElements:K,collectVariables:Q};function ge(){let t={THEMES:"colorThemes_data",PUBLISH_DATE:"colorThemes_publishDate"};function e(){let r=document.documentElement.previousSibling;return r?.nodeType===Node.COMMENT_NODE?new Date(r.textContent.match(/Last Published: (.+?) GMT/)[1]).getTime():null}function o(){try{let r=localStorage.getItem(t.PUBLISH_DATE),a=e();return!a||!r||r!==a.toString()?null:JSON.parse(localStorage.getItem(t.THEMES))}catch(r){return console.warn("Failed to load from localStorage:",r),null}}function n(r){try{let a=e()}catch(a){console.warn("Failed to save to localStorage:",a)}}window.colorThemes={themes:{},getTheme(r="",a=""){if(!r)return this.getTheme(Object.keys(this.themes)[0],a);let m=this.themes[r];return m?!m.brands||Object.keys(m.brands).length===0?m:a?m.brands[a]||{}:m.brands[Object.keys(m.brands)[0]]:{}}};let s=o();if(s){window.colorThemes.themes=s,document.dispatchEvent(new CustomEvent("colorThemesReady"));return}let l=document.querySelector('link[rel="stylesheet"]');if(!l?.href)return null;let c=new Set,f=new Set,w=new Set;fetch(l.href).then(r=>{if(!r.ok)throw new Error(`Failed to fetch stylesheet: ${r.statusText}`);return r.text()}).then(r=>{(r.match(/--_theme[\w-]+:\s*[^;]+/g)||[]).forEach(u=>c.add(u.split(":")[0].trim())),(r.match(/\.(theme|brand)-[\w-]+/g)||[]).forEach(u=>{u.startsWith(".theme-")&&f.add(u)});let a=Array.from(c);function m(u,T=null){let S=document.documentElement.getAttribute("class");document.documentElement.setAttribute("class",""),document.documentElement.classList.add(u,T);let v={};return a.forEach($=>v[$]=getComputedStyle(document.documentElement).getPropertyValue($)),document.documentElement.setAttribute("class",S),v}f.forEach(u=>{let T=u.replace(".","").replace("theme-","");window.colorThemes.themes[T]={brands:{}},w.forEach(S=>{let v=S.replace(".","");window.colorThemes.themes[T].brands[v]=m(u.replace(".",""),S.replace(".",""))}),w.size||(window.colorThemes.themes[T]=m(u.replace(".","")))}),n(window.colorThemes.themes),document.dispatchEvent(new CustomEvent("colorThemesReady"))}).catch(r=>console.error("Error:",r.message))}window.addEventListener("DOMContentLoaded",t=>{ge()});var E=class{constructor(){this.currentTheme="light",this.toggleButton=null,this.themes={},this.transitionDuration=.5,this.transitionEase="power1.out",this.init()}init(){if(this.toggleButton=document.querySelector("[data-theme-toggle-button]"),!this.toggleButton){console.error("\u274C Theme toggle button not found");return}let e=document.querySelector("[data-theme-toggle-script]");e&&(this.transitionDuration=parseFloat(e.getAttribute("duration"))||.5,this.transitionEase=e.getAttribute("ease")||"power1.out"),this.waitForCollector()}waitForCollector(){window.themeCollector&&window.themeCollector.collectVariables?this.setupThemes():setTimeout(()=>this.waitForCollector(),100)}setupThemes(){let e=document.documentElement,o=window.getComputedStyle(e),n={};for(let s=0;s<o.length;s++){let l=o[s];if(l.startsWith("--_theme")){let c=o.getPropertyValue(l);n[l]=c}}console.log("\u{1F3A8} Collected theme variables:",n),this.themes.light={...n},this.themes.dark={},Object.entries(n).forEach(([s,l])=>{s.includes("bg-color")?this.themes.dark[s]=this.getDarkBackground(l):s.includes("txt-color")?this.themes.dark[s]=this.getLightText(l):this.themes.dark[s]=l}),console.log("\u{1F3AD} Generated themes:",this.themes),this.loadTheme(),this.toggleButton.addEventListener("click",()=>this.toggle()),this.toggleButton.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),this.toggle())}),console.log("\u2705 Theme toggle initialized with dynamic themes")}getDarkBackground(e){return{"#f4f4f4":"#14161a","#ffffff":"#0a0a0a","#fafafa":"#1a1a1a","rgb(244, 244, 244)":"rgb(20, 22, 26)","rgb(255, 255, 255)":"rgb(10, 10, 10)","rgb(250, 250, 250)":"rgb(26, 26, 26)"}[e]||this.invertColor(e)}getLightText(e){return{"#14161a":"#f4f4f4","#000000":"#ffffff","#333333":"#cccccc","rgb(20, 22, 26)":"rgb(244, 244, 244)","rgb(0, 0, 0)":"rgb(255, 255, 255)","rgb(51, 51, 51)":"rgb(204, 204, 204)"}[e]||this.invertColor(e)}loadTheme(){let e=localStorage.getItem("theme");e&&this.themes[e]?(console.log(`\u{1F4F1} Loading saved theme: ${e}`),this.setTheme(e,!1)):(console.log("\u{1F4F1} No saved theme preference, starting with light theme"),this.setTheme("light",!1))}setTheme(e,o=!0){if(!this.themes[e]){console.error(`\u274C Theme "${e}" not found`);return}this.currentTheme=e;let n=document.documentElement;if(console.log(`\u{1F3A8} Applying theme "${e}":`,this.themes[e]),o&&typeof gsap<"u"){let s=document.body,l=this.themes[e];gsap.to(s,{backgroundColor:l["--_theme---bg-color"],color:l["--_theme---txt-color"],duration:this.transitionDuration,ease:this.transitionEase}),Object.entries(l).forEach(([c,f])=>{gsap.to(n,{[c]:f,duration:this.transitionDuration,ease:this.transitionEase})})}else{Object.entries(this.themes[e]).forEach(([l,c])=>{n.style.setProperty(l,c),console.log(`   Set ${l} = ${c}`)});let s=document.body;this.themes[e]["--_theme---bg-color"]&&(s.style.backgroundColor=this.themes[e]["--_theme---bg-color"]),this.themes[e]["--_theme---txt-color"]&&(s.style.color=this.themes[e]["--_theme---txt-color"])}n.setAttribute("data-theme",e),console.log(`   Set data-theme = "${e}"`),this.updateButton(),localStorage.setItem("theme",e),console.log(`\u{1F3AD} Theme switched to: ${e}`)}toggle(){let e=this.currentTheme==="light"?"dark":"light";console.log(`\u{1F504} Toggling from ${this.currentTheme} to ${e}`),this.setTheme(e,!0)}updateButton(){if(!this.toggleButton)return;let e=this.toggleButton.querySelector(".lights-on");if(e){let n=this.currentTheme==="light"?"lights off":"lights on";e.textContent=n,console.log(`\u{1F4A1} Button text updated to: "${n}" (theme: ${this.currentTheme})`)}else console.warn("\u26A0\uFE0F .lights-on div not found in toggle button");this.toggleButton.setAttribute("aria-pressed",this.currentTheme==="dark");let o=this.currentTheme==="light"?"Switch to Dark Mode":"Switch to Light Mode";this.toggleButton.setAttribute("aria-label",o)}invertColor(e){if(e.includes("rgb")){let o=e.match(/\d+/g);if(o&&o.length>=3){let n=255-parseInt(o[0]),s=255-parseInt(o[1]),l=255-parseInt(o[2]);return`rgb(${n}, ${s}, ${l})`}}else if(e.includes("#")){let o=e.replace("#",""),n=(255-parseInt(o.substr(0,2),16)).toString(16).padStart(2,"0"),s=(255-parseInt(o.substr(2,2),16)).toString(16).padStart(2,"0"),l=(255-parseInt(o.substr(4,2),16)).toString(16).padStart(2,"0");return`#${n}${s}${l}`}return e}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{new E}):new E;window.themeToggle=E;})();
