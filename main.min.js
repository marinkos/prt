(()=>{var z=document.getElementById("cursor"),w=20,P=Math.floor(w*.3),F=26,V=150,_=0,h={x:0,y:0},r=[],Y,f=!1,L=.05,k=.35,m=F/2,W=.05,$=.75,b=class{constructor(t=0){this.index=t,this.x=0,this.y=0,this.scale=1-W*t,this.range=m-m*this.scale+2,this.limit=F*$*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),z.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!f||this.index<=P?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=L,this.angleY+=L,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},B=e=>{h.x=e.clientX-m,h.y=e.clientY-m,M()},G=e=>{e.touches.length>0&&(h.x=e.touches[0].clientX-m,h.y=e.touches[0].clientY-m,M())};function N(){window.addEventListener("mousemove",B,{passive:!0}),window.addEventListener("touchmove",G,{passive:!0}),_=performance.now(),Q(),X()}function J(){Y=setTimeout(K,V),f=!1}function M(){clearTimeout(Y),J()}function K(){f=!0;for(let e=0;e<r.length;e++)r[e].lock()}function Q(){r=new Array(w);for(let e=0;e<w;e++)r[e]=new b(e)}var X=e=>{U(),_=e,requestAnimationFrame(X)},U=()=>{let e=h.x,t=h.y,o=f,n=P;for(let i=0;i<r.length;i++){let d=r[i],l=r[i+1]||r[0];d.x=e,d.y=t,d.draw(),(!o||i<=n)&&(e+=(l.x-d.x)*k,t+=(l.y-d.y)*k)}};N();var x=document.querySelector('[wb-data="text"]');x&&document.fonts.ready.then(()=>{let e=new SplitText(x,{type:"lines"});gsap.set(x,{autoAlpha:1}),gsap.from(e.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"})});var s=document.querySelector("canvas");s||(s=document.createElement("canvas"),s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.pointerEvents="none",s.style.zIndex="1000",s.style.width="18.75em",s.style.height="auto",s.style.display="none",document.body.appendChild(s));var c=s.getContext("2d"),a=[...document.querySelectorAll(".project_item")];function v(e,t,o){return e*(1-o)+t*o}var g=0,S=!1,y=.8,I=.8,R=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e754aff0f5394a252a_koi.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],u=[],D=0,H=0,E=0,T=0;window.addEventListener("mousemove",e=>{D=e.clientX,H=e.clientY});var O=0;R.forEach((e,t)=>{let o=new Image;o.onload=()=>{O++,O===R.length&&q()},o.style.width="18.75em",o.style.height="auto",o.style.objectFit="cover",o.classList.add("project-image"),o.style.display="none",o.src=e,document.body.append(o),u.push(o)});var j=0;function Z(e){if(!S)return;let o=18.75*parseFloat(getComputedStyle(document.body).fontSize),n=u[e].naturalHeight/u[e].naturalWidth,i=o*n;s.width=o*window.devicePixelRatio,s.height=i*window.devicePixelRatio,s.style.width="18.75em",s.style.height="auto",c.webkitImageSmoothingEnabled=!0,c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0,c.save(),c.scale(window.devicePixelRatio,window.devicePixelRatio),c.translate(o/2,i/2),c.scale(y,y),c.translate(-o/2,-i/2),c.drawImage(u[e],0,0,o,i),c.restore()}for(let e=0;e<a.length;e++)a[e].addEventListener("mouseover",()=>{for(let t=0;t<a.length;t++)t!==e?(a[t].style.opacity=.2,a[t].style.zIndex=0):(a[t].style.opacity=1,a[t].style.zIndex=3);s.style.display="block"}),a[e].addEventListener("mouseleave",()=>{for(let t=0;t<a.length;t++)a[t].style.opacity=1;s.style.display="none"}),a[e].addEventListener("mouseenter",()=>{g=e,j=1,S=!0,I=1,s.style.display="block"}),a[e].addEventListener("mouseleave",()=>{j=0,S=!1,I=.8,s.style.display="none"});function q(){E=v(E,D,.075),T=v(T,H,.075),y=v(y,I,.1);let t=18.75*parseFloat(getComputedStyle(document.body).fontSize),o=u[g].naturalHeight/u[g].naturalWidth,n=t*o;s.style.transform=`translate3d(${E-t/2}px, ${T-n/2}px, 0)`,Z(g),window.requestAnimationFrame(q)}gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var te=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();function ee(){window.colorThemes={themes:{},getTheme(n=""){if(!n)return this.getTheme(Object.keys(this.themes)[0]);let i=this.themes[n];return i||{}}};let e=document.querySelector('link[rel="stylesheet"]');if(!e?.href)return null;let t=new Set,o=new Set;fetch(e.href).then(n=>{if(!n.ok)throw new Error(`Failed to fetch stylesheet: ${n.statusText}`);return n.text()}).then(n=>{(n.match(/--_theme[\w-]+:\s*[^;]+/g)||[]).forEach(l=>t.add(l.split(":")[0].trim())),(n.match(/\.theme-[\w-]+/g)||[]).forEach(l=>{o.add(l)});let i=Array.from(t);console.log("Theme Variables found:",i),console.log("Theme Classes found:",Array.from(o));function d(l){let p=document.documentElement.getAttribute("class");document.documentElement.setAttribute("class",""),document.documentElement.classList.add(l);let C={};return i.forEach(A=>C[A]=getComputedStyle(document.documentElement).getPropertyValue(A)),document.documentElement.setAttribute("class",p),C}o.forEach(l=>{let p=l.replace(".","").replace("theme-","");window.colorThemes.themes[p]=d(l.replace(".",""))}),console.log("Collected Color Themes:",window.colorThemes.themes),console.log("Full Theme Object:",window.colorThemes),document.dispatchEvent(new CustomEvent("colorThemesReady"))}).catch(n=>console.error("Error:",n.message))}window.addEventListener("DOMContentLoaded",e=>{ee()});})();
