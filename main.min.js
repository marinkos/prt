(()=>{var Q=document.getElementById("cursor"),I=20,H=Math.floor(I*.3),R=26,Z=150,X=0,f={x:0,y:0},u=[],B,v=!1,O=.05,Y=.35,y=R/2,ee=.05,te=.75,k=class{constructor(o=0){this.index=o,this.x=0,this.y=0,this.scale=1-ee*o,this.range=y-y*this.scale+2,this.limit=R*te*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),Q.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!v||this.index<=H?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=O,this.angleY+=O,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},oe=e=>{f.x=e.clientX-y,f.y=e.clientY-y,V()},ne=e=>{e.touches.length>0&&(f.x=e.touches[0].clientX-y,f.y=e.touches[0].clientY-y,V())};function se(){window.addEventListener("mousemove",oe,{passive:!0}),window.addEventListener("touchmove",ne,{passive:!0}),X=performance.now(),ae(),j()}function le(){B=setTimeout(ce,Z),v=!1}function V(){clearTimeout(B),le()}function ce(){v=!0;for(let e=0;e<u.length;e++)u[e].lock()}function ae(){u=new Array(I);for(let e=0;e<I;e++)u[e]=new k(e)}var j=e=>{ie(),X=e,requestAnimationFrame(j)},ie=()=>{let e=f.x,o=f.y,t=v,c=H;for(let l=0;l<u.length;l++){let a=u[l],g=u[l+1]||u[0];a.x=e,a.y=o,a.draw(),(!t||l<=c)&&(e+=(g.x-a.x)*Y,o+=(g.y-a.y)*Y)}};se();var q=document.querySelector('[wb-data="text"]'),re=new SplitText(q,{type:"lines"});gsap.set(q,{autoAlpha:1});gsap.from(re.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"});var n=document.querySelector("canvas");n||(n=document.createElement("canvas"),n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.pointerEvents="none",n.style.zIndex="1000",n.style.width="18.75em",n.style.height="auto",n.style.display="none",document.body.appendChild(n));var d=n.getContext("2d"),r=[...document.querySelectorAll(".project_item")];function A(e,o,t){return e*(1-t)+o*t}var x=0,P=!1,C=.8,M=.8,z=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e754aff0f5394a252a_koi.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],b=[],N=0,U=0,L=0,_=0;window.addEventListener("mousemove",e=>{N=e.clientX,U=e.clientY});var $=0;z.forEach((e,o)=>{let t=new Image;t.onload=()=>{$++,$===z.length&&W()},t.style.width="18.75em",t.style.height="auto",t.style.objectFit="cover",t.classList.add("project-image"),t.style.display="none",t.src=e,document.body.append(t),b.push(t)});var G=0;function de(e){if(!P)return;let t=18.75*parseFloat(getComputedStyle(document.body).fontSize),c=b[e].naturalHeight/b[e].naturalWidth,l=t*c;n.width=t*window.devicePixelRatio,n.height=l*window.devicePixelRatio,n.style.width="18.75em",n.style.height="auto",d.webkitImageSmoothingEnabled=!0,d.mozImageSmoothingEnabled=!0,d.msImageSmoothingEnabled=!0,d.imageSmoothingEnabled=!0,d.save(),d.scale(window.devicePixelRatio,window.devicePixelRatio),d.translate(t/2,l/2),d.scale(C,C),d.translate(-t/2,-l/2),d.drawImage(b[e],0,0,t,l),d.restore()}for(let e=0;e<r.length;e++)r[e].addEventListener("mouseover",()=>{for(let o=0;o<r.length;o++)o!==e?(r[o].style.opacity=.2,r[o].style.zIndex=0):(r[o].style.opacity=1,r[o].style.zIndex=3);n.style.display="block"}),r[e].addEventListener("mouseleave",()=>{for(let o=0;o<r.length;o++)r[o].style.opacity=1;n.style.display="none"}),r[e].addEventListener("mouseenter",()=>{x=e,G=1,P=!0,M=1,n.style.display="block"}),r[e].addEventListener("mouseleave",()=>{G=0,P=!1,M=.8,n.style.display="none"});function W(){L=A(L,N,.075),_=A(_,U,.075),C=A(C,M,.1);let o=18.75*parseFloat(getComputedStyle(document.body).fontSize),t=b[x].naturalHeight/b[x].naturalWidth,c=o*t;n.style.transform=`translate3d(${L-o/2}px, ${_-c/2}px, 0)`,de(x),window.requestAnimationFrame(W)}gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var ge=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();console.log("\u{1F50D} Theme Collector: Starting collection...");function J(){let e=[];return document.querySelectorAll("*").forEach(t=>{let c=window.getComputedStyle(t),l=!1,a=t.style.cssText;a.includes("var(--_theme")&&(console.log("\u{1F3A8} Found element with theme variables:",t),console.log("   CSS:",a),e.push({element:t,cssText:a}));let g={backgroundColor:c.backgroundColor,color:c.color,borderColor:c.borderColor};Object.entries(g).forEach(([E,p])=>{p.includes("var(--_theme")&&(console.log(`\u{1F3A8} Found ${E} using theme variable:`,t),console.log(`   Value: ${p}`))})}),e}function K(){let e=document.documentElement,o=window.getComputedStyle(e);console.log("\u{1F3A8} CSS Variables found:");let t=[];for(let c=0;c<o.length;c++){let l=o[c];if(l.startsWith("--_theme")){let a=o.getPropertyValue(l);console.log(`   ${l}: ${a}`),t.push({property:l,value:a})}}return t}function me(){let e=document.querySelector("[data-theme-toggle-button]");e?(console.log("\u2705 Theme toggle button found:",e),console.log("   Classes:",e.className),console.log("   Attributes:",e.attributes)):console.log("\u274C Theme toggle button not found")}function he(){let o=document.documentElement.getAttribute("data-theme");console.log("\u{1F3AD} Current theme:",o||"light (default)");let t=document.body,c=window.getComputedStyle(t);console.log("\u{1F3A8} Body styles:"),console.log("   Background:",c.backgroundColor),console.log("   Color:",c.color)}function D(){console.log("=== THEME SYSTEM DEBUG ==="),me(),he(),K(),J(),console.log("=== END DEBUG ===")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",D):D();window.themeCollector={debug:D,collectElements:J,collectVariables:K};function ue(){let e={THEMES:"colorThemes_data",PUBLISH_DATE:"colorThemes_publishDate"};function o(){let s=document.documentElement.previousSibling;return s?.nodeType===Node.COMMENT_NODE?new Date(s.textContent.match(/Last Published: (.+?) GMT/)[1]).getTime():null}function t(){try{let s=localStorage.getItem(e.PUBLISH_DATE),i=o();return!i||!s||s!==i.toString()?null:JSON.parse(localStorage.getItem(e.THEMES))}catch(s){return console.warn("Failed to load from localStorage:",s),null}}function c(s){try{let i=o()}catch(i){console.warn("Failed to save to localStorage:",i)}}window.colorThemes={themes:{},getTheme(s="",i=""){if(!s)return this.getTheme(Object.keys(this.themes)[0],i);let m=this.themes[s];return m?!m.brands||Object.keys(m.brands).length===0?m:i?m.brands[i]||{}:m.brands[Object.keys(m.brands)[0]]:{}}};let l=t();if(l){window.colorThemes.themes=l,document.dispatchEvent(new CustomEvent("colorThemesReady"));return}let a=document.querySelector('link[rel="stylesheet"]');if(!a?.href)return null;let g=new Set,E=new Set,p=new Set;fetch(a.href).then(s=>{if(!s.ok)throw new Error(`Failed to fetch stylesheet: ${s.statusText}`);return s.text()}).then(s=>{(s.match(/--_theme[\w-]+:\s*[^;]+/g)||[]).forEach(h=>g.add(h.split(":")[0].trim())),(s.match(/\.(theme|brand)-[\w-]+/g)||[]).forEach(h=>{h.startsWith(".theme-")&&E.add(h)});let i=Array.from(g);function m(h,w=null){let S=document.documentElement.getAttribute("class");document.documentElement.setAttribute("class",""),document.documentElement.classList.add(h,w);let T={};return i.forEach(F=>T[F]=getComputedStyle(document.documentElement).getPropertyValue(F)),document.documentElement.setAttribute("class",S),T}E.forEach(h=>{let w=h.replace(".","").replace("theme-","");window.colorThemes.themes[w]={brands:{}},p.forEach(S=>{let T=S.replace(".","");window.colorThemes.themes[w].brands[T]=m(h.replace(".",""),S.replace(".",""))}),p.size||(window.colorThemes.themes[w]=m(h.replace(".","")))}),c(window.colorThemes.themes),document.dispatchEvent(new CustomEvent("colorThemesReady"))}).catch(s=>console.error("Error:",s.message))}window.addEventListener("DOMContentLoaded",e=>{ue()});})();
