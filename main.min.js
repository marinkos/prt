(()=>{var T=document.getElementById("cursor"),h=20,g=Math.floor(h*.3),y=26,L=150,f=0,i={x:0,y:0},o=[],x,c=!1,m=.05,p=.35,n=y/2,A=.05,M=.75,u=class{constructor(s=0){this.index=s,this.x=0,this.y=0,this.scale=1-A*s,this.range=n-n*this.scale+2,this.limit=y*M*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),T.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!c||this.index<=g?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=m,this.angleY+=m,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},S=t=>{i.x=t.clientX-n,i.y=t.clientY-n,w()},Y=t=>{t.touches.length>0&&(i.x=t.touches[0].clientX-n,i.y=t.touches[0].clientY-n,w())};function C(){window.addEventListener("mousemove",S,{passive:!0}),window.addEventListener("touchmove",Y,{passive:!0}),f=performance.now(),F(),E()}function X(){x=setTimeout(k,L),c=!1}function w(){clearTimeout(x),X()}function k(){c=!0;for(let t=0;t<o.length;t++)o[t].lock()}function F(){o=new Array(h);for(let t=0;t<h;t++)o[t]=new u(t)}var E=t=>{D(),f=t,requestAnimationFrame(E)},D=()=>{let t=i.x,s=i.y,l=c,I=g;for(let a=0;a<o.length;a++){let r=o[a],d=o[a+1]||o[0];r.x=t,r.y=s,r.draw(),(!l||a<=I)&&(t+=(d.x-r.x)*p,s+=(d.y-r.y)*p)}};C();var v=document.querySelector('[wb-data="text"]'),_=new SplitText(v,{type:"lines"});gsap.set(v,{autoAlpha:1});gsap.from(_.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"});var e=null;document.querySelectorAll(".project_item").forEach(t=>{let s=t.querySelector(".project_item-image");s&&(t.addEventListener("mouseenter",l=>{e=s.cloneNode(!0),e.style.position="fixed",e.style.pointerEvents="none",e.style.zIndex=20,e.style.display="block",e.style.opacity=0,e.classList.add("is-active"),document.body.appendChild(e),gsap.to(e,{opacity:1,scale:1,duration:.3,ease:"power2.out"})}),t.addEventListener("mousemove",l=>{e&&gsap.to(e,{x:l.clientX-e.offsetWidth/2,y:l.clientY-e.offsetHeight/2,duration:.2,ease:"power2.out"})}),t.addEventListener("mouseleave",()=>{e&&gsap.to(e,{opacity:0,scale:.95,duration:.2,ease:"power2.in",onComplete:()=>{e&&e.parentNode&&(e.parentNode.removeChild(e),e=null)}})}))});gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var P=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();})();
