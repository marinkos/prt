(()=>{var R=document.getElementById("cursor"),u=20,L=Math.floor(u*.3),S=26,F=150,T=0,d={x:0,y:0},c=[],A,g=!1,I=.05,E=.35,h=S/2,z=.05,D=.75,b=class{constructor(t=0){this.index=t,this.x=0,this.y=0,this.scale=1-z*t,this.range=h-h*this.scale+2,this.limit=S*D*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),R.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!g||this.index<=L?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=I,this.angleY+=I,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},q=e=>{d.x=e.clientX-h,d.y=e.clientY-h,Y()},H=e=>{e.touches.length>0&&(d.x=e.touches[0].clientX-h,d.y=e.touches[0].clientY-h,Y())};function O(){window.addEventListener("mousemove",q,{passive:!0}),window.addEventListener("touchmove",H,{passive:!0}),T=performance.now(),j(),_()}function B(){A=setTimeout($,F),g=!1}function Y(){clearTimeout(A),B()}function $(){g=!0;for(let e=0;e<c.length;e++)c[e].lock()}function j(){c=new Array(u);for(let e=0;e<u;e++)c[e]=new b(e)}var _=e=>{W(),T=e,requestAnimationFrame(_)},W=()=>{let e=d.x,t=d.y,i=g,m=L;for(let l=0;l<c.length;l++){let f=c[l],v=c[l+1]||c[0];f.x=e,f.y=t,f.draw(),(!i||l<=m)&&(e+=(v.x-f.x)*E,t+=(v.y-f.y)*E)}};O();var P=document.querySelector('[wb-data="text"]'),G=new SplitText(P,{type:"lines"});gsap.set(P,{autoAlpha:1});gsap.from(G.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"});var s=document.querySelector("canvas");s||(s=document.createElement("canvas"),s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.pointerEvents="none",s.style.zIndex="1000",document.body.appendChild(s));var a=s.getContext("2d"),n=[...document.querySelectorAll(".project_item")];function X(e,t,i){return e*(1-i)+t*i}var x=0,N=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],r=[],k=0,C=0,y=0,w=0;window.addEventListener("mousemove",e=>{k=e.clientX,C=e.clientY});N.forEach((e,t)=>{let i=new Image(300);i.src=e,i.classList.add("project-image"),document.body.append(i),r.push(i)});var o=.001,p=0;function J(e){let{width:t,height:i}=r[e].getBoundingClientRect();s.width=t*window.devicePixelRatio,s.height=i*window.devicePixelRatio,s.style.width=`${t}px`,s.style.height=`${i}px`,a.webkitImageSmoothingEnabled=!1,a.mozImageSmoothingEnabled=!1,a.msSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,p===1?o<.2?o+=.01:o<1&&(o+=.1):p===0&&(o>.2?o-=.3:o>0&&(o-=.01));let m=t*o,l=i*o;o>=1?(a.scale(window.devicePixelRatio,window.devicePixelRatio),a.drawImage(r[e],0,0,t,i)):(a.drawImage(r[e],0,0,m,l),a.scale(window.devicePixelRatio,window.devicePixelRatio),s.width!==0&&s.height!==0&&a.drawImage(s,0,0,m,l,0,0,t,i))}for(let e=0;e<n.length;e++)n[e].addEventListener("mouseover",()=>{for(let t=0;t<n.length;t++)t!==e?(n[t].style.opacity=.2,n[t].style.zIndex=0):(n[t].style.opacity=1,n[t].style.zIndex=3)}),n[e].addEventListener("mouseleave",()=>{for(let t=0;t<n.length;t++)n[t].style.opacity=1}),n[e].addEventListener("mouseenter",()=>{x=e,p=1,r.forEach((t,i)=>{t.style.display=i===e?"block":"none",t.style.zIndex=25}),n.forEach((t,i)=>{t.style.zIndex=i===e?30:1})}),n[e].addEventListener("mouseleave",()=>{p=0,r.forEach(t=>t.style.display="none"),n.forEach(t=>t.style.zIndex=1)});function M(){y=X(y,k,.075),w=X(w,C,.075);let{width:e,height:t}=r[x].getBoundingClientRect();s.style.transform=`translate3d(${y-e/2}px, ${w-t/2}px, 0)`,J(x),window.requestAnimationFrame(M)}M();gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var K=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();})();
