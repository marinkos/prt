(()=>{var B=document.getElementById("cursor"),b=20,T=Math.floor(b*.3),M=26,j=150,P=0,d={x:0,y:0},c=[],A,g=!1,L=.05,E=.35,h=M/2,W=.05,$=.75,w=class{constructor(o=0){this.index=o,this.x=0,this.y=0,this.scale=1-W*o,this.range=h-h*this.scale+2,this.limit=M*$*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),B.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!g||this.index<=T?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=L,this.angleY+=L,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},G=e=>{d.x=e.clientX-h,d.y=e.clientY-h,Y()},N=e=>{e.touches.length>0&&(d.x=e.touches[0].clientX-h,d.y=e.touches[0].clientY-h,Y())};function J(){window.addEventListener("mousemove",G,{passive:!0}),window.addEventListener("touchmove",N,{passive:!0}),P=performance.now(),U(),_()}function K(){A=setTimeout(Q,j),g=!1}function Y(){clearTimeout(A),K()}function Q(){g=!0;for(let e=0;e<c.length;e++)c[e].lock()}function U(){c=new Array(b);for(let e=0;e<b;e++)c[e]=new w(e)}var _=e=>{V(),P=e,requestAnimationFrame(_)},V=()=>{let e=d.x,o=d.y,t=g,l=T;for(let n=0;n<c.length;n++){let r=c[n],u=c[n+1]||c[0];r.x=e,r.y=o,r.draw(),(!t||n<=l)&&(e+=(u.x-r.x)*E,o+=(u.y-r.y)*E)}};J();var x=document.querySelector('[wb-data="text"]');x&&document.fonts.ready.then(()=>{let e=new SplitText(x,{type:"lines"});gsap.set(x,{autoAlpha:1}),gsap.from(e.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"})});var s=document.querySelector("canvas");s||(s=document.createElement("canvas"),s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.pointerEvents="none",s.style.zIndex="1000",s.style.width="18.75em",s.style.height="auto",s.style.display="none",document.body.appendChild(s));var i=s.getContext("2d"),a=[...document.querySelectorAll(".project_item")];function v(e,o,t){return e*(1-t)+o*t}var f=0,C=!1,p=.8,I=.8,F=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e754aff0f5394a252a_koi.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],m=[],R=0,q=0,k=0,S=0;window.addEventListener("mousemove",e=>{R=e.clientX,q=e.clientY});var X=0;F.forEach((e,o)=>{let t=new Image;t.onload=()=>{X++,X===F.length&&H()},t.style.width="18.75em",t.style.height="auto",t.style.objectFit="cover",t.classList.add("project-image"),t.style.display="none",t.src=e,document.body.append(t),m.push(t)});var D=0;function Z(e){if(!C)return;let t=18.75*parseFloat(getComputedStyle(document.body).fontSize),l=m[e].naturalHeight/m[e].naturalWidth,n=t*l;s.width=t*window.devicePixelRatio,s.height=n*window.devicePixelRatio,s.style.width="18.75em",s.style.height="auto",i.webkitImageSmoothingEnabled=!0,i.mozImageSmoothingEnabled=!0,i.msImageSmoothingEnabled=!0,i.imageSmoothingEnabled=!0,i.save(),i.scale(window.devicePixelRatio,window.devicePixelRatio),i.translate(t/2,n/2),i.scale(p,p),i.translate(-t/2,-n/2),i.drawImage(m[e],0,0,t,n),i.restore()}for(let e=0;e<a.length;e++)a[e].addEventListener("mouseover",()=>{for(let o=0;o<a.length;o++)o!==e?(a[o].style.opacity=.2,a[o].style.zIndex=0):(a[o].style.opacity=1,a[o].style.zIndex=3);s.style.display="block"}),a[e].addEventListener("mouseleave",()=>{for(let o=0;o<a.length;o++)a[o].style.opacity=1;s.style.display="none"}),a[e].addEventListener("mouseenter",()=>{f=e,D=1,C=!0,I=1,s.style.display="block"}),a[e].addEventListener("mouseleave",()=>{D=0,C=!1,I=.8,s.style.display="none"});function H(){k=v(k,R,.075),S=v(S,q,.075),p=v(p,I,.1);let o=18.75*parseFloat(getComputedStyle(document.body).fontSize),t=m[f].naturalHeight/m[f].naturalWidth,l=o*t;s.style.transform=`translate3d(${k-o/2}px, ${S-l/2}px, 0)`,Z(f),window.requestAnimationFrame(H)}gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var ee=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector("[data-theme-toggle-button]"),o=e.querySelector(".lights-on"),t=document.body,l=localStorage.getItem("dark-mode")==="true";l?(t.classList.add("theme-dark"),o.textContent="lights on"):(t.classList.add("theme-light"),o.textContent="lights off");function n(){let r=getComputedStyle(t).backgroundColor,u=getComputedStyle(t).color,y=t.classList.contains("theme-dark");t.classList.remove("theme-light","theme-dark"),t.classList.add(y?"theme-light":"theme-dark");let z=getComputedStyle(t).backgroundColor,O=getComputedStyle(t).color;t.classList.remove("theme-light","theme-dark"),t.style.backgroundColor=r,t.style.color=u,gsap.to(t,{backgroundColor:z,color:O,duration:.5,ease:"power1.out",onComplete:function(){t.style.backgroundColor="",t.style.color="",t.classList.add(y?"theme-light":"theme-dark")}}),l=!y,o.textContent=l?"lights on":"lights off",localStorage.setItem("dark-mode",l)}e.addEventListener("click",n)});})();
