(()=>{var F=document.getElementById("cursor"),u=20,S=Math.floor(u*.3),T=26,z=150,A=0,c={x:0,y:0},l=[],L,g=!1,I=.05,E=.35,r=T/2,D=.05,k=.75,b=class{constructor(t=0){this.index=t,this.x=0,this.y=0,this.scale=1-D*t,this.range=r-r*this.scale+2,this.limit=T*k*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),F.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!g||this.index<=S?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=I,this.angleY+=I,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},q=e=>{c.x=e.clientX-r,c.y=e.clientY-r,Y()},H=e=>{e.touches.length>0&&(c.x=e.touches[0].clientX-r,c.y=e.touches[0].clientY-r,Y())};function O(){window.addEventListener("mousemove",q,{passive:!0}),window.addEventListener("touchmove",H,{passive:!0}),A=performance.now(),W(),_()}function B(){L=setTimeout($,z),g=!1}function Y(){clearTimeout(L),B()}function $(){g=!0;for(let e=0;e<l.length;e++)l[e].lock()}function W(){l=new Array(u);for(let e=0;e<u;e++)l[e]=new b(e)}var _=e=>{j(),A=e,requestAnimationFrame(_)},j=()=>{let e=c.x,t=c.y,s=g,m=S;for(let a=0;a<l.length;a++){let d=l[a],v=l[a+1]||l[0];d.x=e,d.y=t,d.draw(),(!s||a<=m)&&(e+=(v.x-d.x)*E,t+=(v.y-d.y)*E)}};O();var P=document.querySelector('[wb-data="text"]'),G=new SplitText(P,{type:"lines"});gsap.set(P,{autoAlpha:1});gsap.from(G.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"});var i=document.querySelector("canvas");i||(i=document.createElement("canvas"),i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.pointerEvents="none",i.style.zIndex="2",document.body.appendChild(i));var n=i.getContext("2d"),h=[...document.querySelectorAll(".project_item")];function X(e,t,s){return e*(1-s)+t*s}var x=0,N=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],f=[],C=0,M=0,w=0,y=0;window.addEventListener("mousemove",e=>{C=e.clientX,M=e.clientY});N.forEach((e,t)=>{let s=new Image(300);s.src=e,s.classList.add("project-image"),document.body.append(s),f.push(s)});var o=.001,p=0;function J(e){let{width:t,height:s}=f[e].getBoundingClientRect();i.width=t*window.devicePixelRatio,i.height=s*window.devicePixelRatio,i.style.width=`${t}px`,i.style.height=`${s}px`,n.webkitImageSmoothingEnabled=!1,n.mozImageSmoothingEnabled=!1,n.msSmoothingEnabled=!1,n.imageSmoothingEnabled=!1,p===1?o<.2?o+=.01:o<1&&(o+=.1):p===0&&(o>.2?o-=.3:o>0&&(o-=.01));let m=t*o,a=s*o;o>=1?(n.scale(window.devicePixelRatio,window.devicePixelRatio),n.drawImage(f[e],0,0,t,s)):(n.drawImage(f[e],0,0,m,a),n.scale(window.devicePixelRatio,window.devicePixelRatio),i.width!==0&&i.height!==0&&n.drawImage(i,0,0,m,a,0,0,t,s))}i.style.zIndex=1e3;for(let e=0;e<h.length;e++)h[e].addEventListener("mouseenter",()=>{x=e,p=1,h.forEach((t,s)=>{s===e?(t.style.zIndex="3",t.style.opacity="1"):(t.style.zIndex="1",t.style.opacity="0.2")}),i.style.zIndex="2"}),h[e].addEventListener("mouseleave",()=>{p=0,h.forEach(t=>{t.style.zIndex="1",t.style.opacity="1"}),i.style.zIndex="0"});function R(){w=X(w,C,.075),y=X(y,M,.075);let{width:e,height:t}=f[x].getBoundingClientRect();i.style.transform=`translate3d(${w-e/2}px, ${y-t/2}px, 0)`,J(x),window.requestAnimationFrame(R)}R();gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var K=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();})();
