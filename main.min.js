(()=>{var H=document.getElementById("cursor"),p=20,T=Math.floor(p*.3),C=26,z=150,P=0,r={x:0,y:0},c=[],A,u=!1,L=.05,k=.35,d=C/2,O=.05,j=.75,y=class{constructor(t=0){this.index=t,this.x=0,this.y=0,this.scale=1-O*t,this.range=d-d*this.scale+2,this.limit=C*j*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),H.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!u||this.index<=T?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=L,this.angleY+=L,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},W=e=>{r.x=e.clientX-d,r.y=e.clientY-d,M()},B=e=>{e.touches.length>0&&(r.x=e.touches[0].clientX-d,r.y=e.touches[0].clientY-d,M())};function $(){window.addEventListener("mousemove",W,{passive:!0}),window.addEventListener("touchmove",B,{passive:!0}),P=performance.now(),J(),Y()}function G(){A=setTimeout(N,z),u=!1}function M(){clearTimeout(A),G()}function N(){u=!0;for(let e=0;e<c.length;e++)c[e].lock()}function J(){c=new Array(p);for(let e=0;e<p;e++)c[e]=new y(e)}var Y=e=>{K(),P=e,requestAnimationFrame(Y)},K=()=>{let e=r.x,t=r.y,o=u,n=T;for(let i=0;i<c.length;i++){let m=c[i],E=c[i+1]||c[0];m.x=e,m.y=t,m.draw(),(!o||i<=n)&&(e+=(E.x-m.x)*k,t+=(E.y-m.y)*k)}};$();var b=document.querySelector('[wb-data="text"]');b&&document.fonts.ready.then(()=>{let e=new SplitText(b,{type:"lines"});gsap.set(b,{autoAlpha:1}),gsap.from(e.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"})});var s=document.querySelector("canvas");s||(s=document.createElement("canvas"),s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.pointerEvents="none",s.style.zIndex="1000",s.style.width="18.75em",s.style.height="auto",s.style.display="none",document.body.appendChild(s));var l=s.getContext("2d"),a=[...document.querySelectorAll(".project_item")];function w(e,t,o){return e*(1-o)+t*o}var f=0,I=!1,g=.8,S=.8,_=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e754aff0f5394a252a_koi.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],h=[],D=0,R=0,x=0,v=0;window.addEventListener("mousemove",e=>{D=e.clientX,R=e.clientY});var F=0;_.forEach((e,t)=>{let o=new Image;o.onload=()=>{F++,F===_.length&&q()},o.style.width="18.75em",o.style.height="auto",o.style.objectFit="cover",o.classList.add("project-image"),o.style.display="none",o.src=e,document.body.append(o),h.push(o)});var X=0;function Q(e){if(!I)return;let o=18.75*parseFloat(getComputedStyle(document.body).fontSize),n=h[e].naturalHeight/h[e].naturalWidth,i=o*n;s.width=o*window.devicePixelRatio,s.height=i*window.devicePixelRatio,s.style.width="18.75em",s.style.height="auto",l.webkitImageSmoothingEnabled=!0,l.mozImageSmoothingEnabled=!0,l.msImageSmoothingEnabled=!0,l.imageSmoothingEnabled=!0,l.save(),l.scale(window.devicePixelRatio,window.devicePixelRatio),l.translate(o/2,i/2),l.scale(g,g),l.translate(-o/2,-i/2),l.drawImage(h[e],0,0,o,i),l.restore()}for(let e=0;e<a.length;e++)a[e].addEventListener("mouseover",()=>{for(let t=0;t<a.length;t++)t!==e?(a[t].style.opacity=.2,a[t].style.zIndex=0):(a[t].style.opacity=1,a[t].style.zIndex=3);s.style.display="block"}),a[e].addEventListener("mouseleave",()=>{for(let t=0;t<a.length;t++)a[t].style.opacity=1;s.style.display="none"}),a[e].addEventListener("mouseenter",()=>{f=e,X=1,I=!0,S=1,s.style.display="block"}),a[e].addEventListener("mouseleave",()=>{X=0,I=!1,S=.8,s.style.display="none"});function q(){x=w(x,D,.075),v=w(v,R,.075),g=w(g,S,.1);let t=18.75*parseFloat(getComputedStyle(document.body).fontSize),o=h[f].naturalHeight/h[f].naturalWidth,n=t*o;s.style.transform=`translate3d(${x-t/2}px, ${v-n/2}px, 0)`,Q(f),window.requestAnimationFrame(q)}gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var U=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector("[data-theme-toggle-button]"),t=e.querySelector(".lights-on"),o=document.body;o.style.transition="background-color 0.3s ease-out, color 0.3s ease-out";let n=localStorage.getItem("dark-mode")==="true";n?(o.classList.add("theme-dark"),t.textContent="lights on"):(o.classList.add("theme-light"),t.textContent="lights off");function i(){n=!n,o.classList.remove("theme-light","theme-dark"),o.classList.add(n?"theme-dark":"theme-light"),t.textContent=n?"lights on":"lights off",localStorage.setItem("dark-mode",n)}e.addEventListener("click",i)});})();
