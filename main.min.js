(()=>{var K=document.getElementById("cursor"),T=20,X=Math.floor(T*.3),R=26,Q=150,O=0,p={x:0,y:0},u=[],q,x=!1,Y=.05,D=.35,y=R/2,U=.05,Z=.75,k=class{constructor(t=0){this.index=t,this.x=0,this.y=0,this.scale=1-U*t,this.range=y-y*this.scale+2,this.limit=R*Z*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),K.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!x||this.index<=X?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=Y,this.angleY+=Y,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},V=e=>{p.x=e.clientX-y,p.y=e.clientY-y,j()},ee=e=>{e.touches.length>0&&(p.x=e.touches[0].clientX-y,p.y=e.touches[0].clientY-y,j())};function te(){window.addEventListener("mousemove",V,{passive:!0}),window.addEventListener("touchmove",ee,{passive:!0}),O=performance.now(),ne(),H()}function oe(){q=setTimeout(se,Q),x=!1}function j(){clearTimeout(q),oe()}function se(){x=!0;for(let e=0;e<u.length;e++)u[e].lock()}function ne(){u=new Array(T);for(let e=0;e<T;e++)u[e]=new k(e)}var H=e=>{le(),O=e,requestAnimationFrame(H)},le=()=>{let e=p.x,t=p.y,o=x,n=X;for(let l=0;l<u.length;l++){let h=u[l],r=u[l+1]||u[0];h.x=e,h.y=t,h.draw(),(!o||l<=n)&&(e+=(r.x-h.x)*D,t+=(r.y-h.y)*D)}};te();var L=document.querySelector('[wb-data="text"]');L&&document.fonts.ready.then(()=>{let e=new SplitText(L,{type:"lines"});gsap.set(L,{autoAlpha:1}),gsap.from(e.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"})});var a=document.querySelector("canvas");a||(a=document.createElement("canvas"),a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.pointerEvents="none",a.style.zIndex="1000",a.style.width="18.75em",a.style.height="auto",a.style.display="none",document.body.appendChild(a));var m=a.getContext("2d"),d=[...document.querySelectorAll(".project_item")];function S(e,t,o){return e*(1-o)+t*o}var E=0,I=!1,v=.8,_=.8,z=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e754aff0f5394a252a_koi.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],b=[],W=0,$=0,C=0,A=0;window.addEventListener("mousemove",e=>{W=e.clientX,$=e.clientY});var N=0;z.forEach((e,t)=>{let o=new Image;o.onload=()=>{N++,N===z.length&&G()},o.style.width="18.75em",o.style.height="auto",o.style.objectFit="cover",o.classList.add("project-image"),o.style.display="none",o.src=e,document.body.append(o),b.push(o)});var B=0;function ae(e){if(!I)return;let o=18.75*parseFloat(getComputedStyle(document.body).fontSize),n=b[e].naturalHeight/b[e].naturalWidth,l=o*n;a.width=o*window.devicePixelRatio,a.height=l*window.devicePixelRatio,a.style.width="18.75em",a.style.height="auto",m.webkitImageSmoothingEnabled=!0,m.mozImageSmoothingEnabled=!0,m.msImageSmoothingEnabled=!0,m.imageSmoothingEnabled=!0,m.save(),m.scale(window.devicePixelRatio,window.devicePixelRatio),m.translate(o/2,l/2),m.scale(v,v),m.translate(-o/2,-l/2),m.drawImage(b[e],0,0,o,l),m.restore()}for(let e=0;e<d.length;e++)d[e].addEventListener("mouseover",()=>{for(let t=0;t<d.length;t++)t!==e?(d[t].style.opacity=.2,d[t].style.zIndex=0):(d[t].style.opacity=1,d[t].style.zIndex=3);a.style.display="block"}),d[e].addEventListener("mouseleave",()=>{for(let t=0;t<d.length;t++)d[t].style.opacity=1;a.style.display="none"}),d[e].addEventListener("mouseenter",()=>{E=e,B=1,I=!0,_=1,a.style.display="block"}),d[e].addEventListener("mouseleave",()=>{B=0,I=!1,_=.8,a.style.display="none"});function G(){C=S(C,W,.075),A=S(A,$,.075),v=S(v,_,.1);let t=18.75*parseFloat(getComputedStyle(document.body).fontSize),o=b[E].naturalHeight/b[E].naturalWidth,n=t*o;a.style.transform=`translate3d(${C-t/2}px, ${A-n/2}px, 0)`,ae(E),window.requestAnimationFrame(G)}gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var de=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();function ie(){window.colorThemes={themes:{},getTheme(n=""){if(!n)return this.getTheme(Object.keys(this.themes)[0]);let l=this.themes[n];return l||{}}};let e=document.querySelector('link[rel="stylesheet"]');if(!e?.href)return null;let t=new Set,o=new Set;fetch(e.href).then(n=>{if(!n.ok)throw new Error(`Failed to fetch stylesheet: ${n.statusText}`);return n.text()}).then(n=>{(n.match(/--_theme[\w-]+:\s*[^;]+/g)||[]).forEach(r=>t.add(r.split(":")[0].trim())),(n.match(/\.theme-[\w-]+/g)||[]).forEach(r=>{o.add(r)});let l=Array.from(t);console.log("Theme Variables found:",l),console.log("Theme Classes found:",Array.from(o));function h(r){let f=document.documentElement.getAttribute("class");document.documentElement.setAttribute("class",""),document.documentElement.classList.add(r);let w={};return l.forEach(g=>w[g]=getComputedStyle(document.documentElement).getPropertyValue(g)),document.documentElement.setAttribute("class",f),w}o.forEach(r=>{let f=r.replace(".","").replace("theme-","");window.colorThemes.themes[f]=h(r.replace(".",""))}),console.log("Collected Color Themes:",window.colorThemes.themes),console.log("Full Theme Object:",window.colorThemes),document.dispatchEvent(new CustomEvent("colorThemesReady"))}).catch(n=>console.error("Error:",n.message))}window.addEventListener("DOMContentLoaded",e=>{ie()});function ce(){function e(i,c){let s=typeof i;return typeof c!="string"||c.trim()===""?i:c==="true"&&s==="boolean"?!0:c==="false"&&s==="boolean"?!1:isNaN(c)&&s==="string"?c:!isNaN(c)&&s==="number"?+c:i}let t=document.documentElement,o,n="false",l=document.querySelector("[data-theme-toggle-script]"),h=l?e(.5,l.getAttribute("duration")):.5,r=l?e("power1.out",l.getAttribute("ease")):"power1.out";function f(i){document.querySelectorAll("[data-theme-toggle-button] .lights-on").forEach(function(s){s.textContent=i?"lights on":"lights off"})}function w(i,c){if(typeof gsap<"u"&&c&&window.colorThemes){let s=window.colorThemes.getTheme(i);gsap.to(document.body,{backgroundColor:s["--_theme---bg-color"],color:s["--_theme---txt-color"],duration:h,ease:r}),gsap.to(t,{"--_theme---bg-color":s["--_theme---bg-color"],"--_theme---txt-color":s["--_theme---txt-color"],duration:h,ease:r})}else if(t.classList.remove("theme-dark","theme-light"),t.classList.add("theme-"+i),window.colorThemes){let s=window.colorThemes.getTheme(i);document.body.style.backgroundColor=s["--_theme---bg-color"],document.body.style.color=s["--_theme---txt-color"],t.style.setProperty("--_theme---bg-color",s["--_theme---bg-color"]),t.style.setProperty("--_theme---txt-color",s["--_theme---txt-color"])}}function g(i,c){i?(localStorage.setItem("dark-mode","true"),t.classList.add("dark-mode"),w("dark",c),n="true",f(!0)):(localStorage.setItem("dark-mode","false"),t.classList.remove("dark-mode"),w("light",c),n="false",f(!1)),typeof o<"u"&&o.forEach(function(s){s.setAttribute("aria-pressed",n)})}function P(i){g(!i.matches,!1)}let M=window.matchMedia("(prefers-color-scheme: dark)");M.addEventListener("change",i=>{P(i)});let F=localStorage.getItem("dark-mode");F!==null?g(F==="true",!1):P(M),window.addEventListener("DOMContentLoaded",i=>{o=document.querySelectorAll("[data-theme-toggle-button]"),o.forEach(function(s){s.setAttribute("aria-label","Toggle Dark/Light Mode"),s.setAttribute("role","button"),s.setAttribute("aria-pressed",n)});let c=t.classList.contains("dark-mode");f(c),document.addEventListener("click",function(s){if(s.target.closest("[data-theme-toggle-button]")){let J=t.classList.contains("dark-mode");g(!J,!0)}})})}document.addEventListener("colorThemesReady",ce);})();
