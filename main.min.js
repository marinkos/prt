(()=>{var z=document.getElementById("cursor"),x=20,_=Math.floor(x*.3),P=26,V=150,F=0,h={x:0,y:0},m=[],M,y=!1,C=.05,A=.35,u=P/2,B=.05,W=.75,E=class{constructor(t=0){this.index=t,this.x=0,this.y=0,this.scale=1-B*t,this.range=u-u*this.scale+2,this.limit=P*W*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),z.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!y||this.index<=_?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=C,this.angleY+=C,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},$=e=>{h.x=e.clientX-u,h.y=e.clientY-u,Y()},G=e=>{e.touches.length>0&&(h.x=e.touches[0].clientX-u,h.y=e.touches[0].clientY-u,Y())};function N(){window.addEventListener("mousemove",$,{passive:!0}),window.addEventListener("touchmove",G,{passive:!0}),F=performance.now(),Q(),X()}function J(){M=setTimeout(K,V),y=!1}function Y(){clearTimeout(M),J()}function K(){y=!0;for(let e=0;e<m.length;e++)m[e].lock()}function Q(){m=new Array(x);for(let e=0;e<x;e++)m[e]=new E(e)}var X=e=>{U(),F=e,requestAnimationFrame(X)},U=()=>{let e=h.x,t=h.y,o=y,l=_;for(let n=0;n<m.length;n++){let r=m[n],a=m[n+1]||m[0];r.x=e,r.y=t,r.draw(),(!o||n<=l)&&(e+=(a.x-r.x)*A,t+=(a.y-r.y)*A)}};N();var T=document.querySelector('[wb-data="text"]');T&&document.fonts.ready.then(()=>{let e=new SplitText(T,{type:"lines"});gsap.set(T,{autoAlpha:1}),gsap.from(e.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"})});var s=document.querySelector("canvas");s||(s=document.createElement("canvas"),s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.pointerEvents="none",s.style.zIndex="1000",s.style.width="18.75em",s.style.height="auto",s.style.display="none",document.body.appendChild(s));var c=s.getContext("2d"),i=[...document.querySelectorAll(".project_item")];function v(e,t,o){return e*(1-o)+t*o}var p=0,L=!1,b=.8,I=.8,R=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e754aff0f5394a252a_koi.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],f=[],D=0,j=0,k=0,S=0;window.addEventListener("mousemove",e=>{D=e.clientX,j=e.clientY});var O=0;R.forEach((e,t)=>{let o=new Image;o.onload=()=>{O++,O===R.length&&H()},o.style.width="18.75em",o.style.height="auto",o.style.objectFit="cover",o.classList.add("project-image"),o.style.display="none",o.src=e,document.body.append(o),f.push(o)});var q=0;function Z(e){if(!L)return;let o=18.75*parseFloat(getComputedStyle(document.body).fontSize),l=f[e].naturalHeight/f[e].naturalWidth,n=o*l;s.width=o*window.devicePixelRatio,s.height=n*window.devicePixelRatio,s.style.width="18.75em",s.style.height="auto",c.webkitImageSmoothingEnabled=!0,c.mozImageSmoothingEnabled=!0,c.msImageSmoothingEnabled=!0,c.imageSmoothingEnabled=!0,c.save(),c.scale(window.devicePixelRatio,window.devicePixelRatio),c.translate(o/2,n/2),c.scale(b,b),c.translate(-o/2,-n/2),c.drawImage(f[e],0,0,o,n),c.restore()}for(let e=0;e<i.length;e++)i[e].addEventListener("mouseover",()=>{for(let t=0;t<i.length;t++)t!==e?(i[t].style.opacity=.2,i[t].style.zIndex=0):(i[t].style.opacity=1,i[t].style.zIndex=3);s.style.display="block"}),i[e].addEventListener("mouseleave",()=>{for(let t=0;t<i.length;t++)i[t].style.opacity=1;s.style.display="none"}),i[e].addEventListener("mouseenter",()=>{p=e,q=1,L=!0,I=1,s.style.display="block"}),i[e].addEventListener("mouseleave",()=>{q=0,L=!1,I=.8,s.style.display="none"});function H(){k=v(k,D,.075),S=v(S,j,.075),b=v(b,I,.1);let t=18.75*parseFloat(getComputedStyle(document.body).fontSize),o=f[p].naturalHeight/f[p].naturalWidth,l=t*o;s.style.transform=`translate3d(${k-t/2}px, ${S-l/2}px, 0)`,Z(p),window.requestAnimationFrame(H)}gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var te=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();function ee(){window.colorThemes={themes:{},getTheme(l=""){if(!l)return this.getTheme(Object.keys(this.themes)[0]);let n=this.themes[l];return n||{}}};let e=document.querySelector('link[rel="stylesheet"]');if(!e?.href)return null;let t=new Set,o=new Set;fetch(e.href).then(l=>{if(!l.ok)throw new Error(`Failed to fetch stylesheet: ${l.statusText}`);return l.text()}).then(l=>{(l.match(/--_theme[\w-]+:\s*[^;]+/g)||[]).forEach(a=>t.add(a.split(":")[0].trim())),(l.match(/\.theme-[\w-]+/g)||[]).forEach(a=>{o.add(a)});let n=Array.from(t);console.log("Theme Variables found:",n),console.log("Theme Classes found:",Array.from(o));function r(a){let d=document.documentElement.getAttribute("class");document.documentElement.setAttribute("class",""),document.documentElement.classList.add(a);let g={};return n.forEach(w=>g[w]=getComputedStyle(document.documentElement).getPropertyValue(w)),document.documentElement.setAttribute("class",d),g}o.forEach(a=>{let d=a.replace(".","").replace("theme-","");window.colorThemes.themes[d]=r(a.replace(".",""))}),console.log("Collected Color Themes:",window.colorThemes.themes),console.log("Full Theme Object:",window.colorThemes),document.dispatchEvent(new CustomEvent("colorThemesReady"))}).catch(l=>console.error("Error:",l.message))}window.addEventListener("DOMContentLoaded",e=>{ee()});document.addEventListener("colorThemesReady",function(){let e=document.querySelector("[data-theme-toggle-button]"),t=e.querySelector(".lights-on"),o=window.colorThemes.getTheme("light"),l=window.colorThemes.getTheme("dark"),n=!1;localStorage.getItem("theme")==="dark"?(n=!0,document.documentElement.classList.add("theme-dark"),t.textContent="lights on"):document.documentElement.classList.add("theme-light");function a(){let d=n?o:l,g=n?l:o;gsap.timeline({ease:"power1.out",onComplete:function(){n?(document.documentElement.classList.remove("theme-dark"),document.documentElement.classList.add("theme-light")):(document.documentElement.classList.remove("theme-light"),document.documentElement.classList.add("theme-dark")),n=!n,localStorage.setItem("theme",n?"dark":"light")}}).fromTo("body",{backgroundColor:d["--_theme---bg-color"],color:d["--_theme---txt-color"]},{backgroundColor:g["--_theme---bg-color"],color:g["--_theme---txt-color"],duration:.5}),t.textContent=n?"lights off":"lights on"}e.addEventListener("click",a)});})();
