(()=>{var J=document.getElementById("cursor"),I=20,Y=Math.floor(I*.3),R=26,K=150,X=0,p={x:0,y:0},u=[],H,S=!1,F=.05,O=.35,b=R/2,Q=.05,Z=.75,L=class{constructor(t=0){this.index=t,this.x=0,this.y=0,this.scale=1-Q*t,this.range=b-b*this.scale+2,this.limit=R*Z*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),J.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!S||this.index<=Y?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=F,this.angleY+=F,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},V=e=>{p.x=e.clientX-b,p.y=e.clientY-b,j()},ee=e=>{e.touches.length>0&&(p.x=e.touches[0].clientX-b,p.y=e.touches[0].clientY-b,j())};function te(){window.addEventListener("mousemove",V,{passive:!0}),window.addEventListener("touchmove",ee,{passive:!0}),X=performance.now(),ne(),q()}function oe(){H=setTimeout(se,K),S=!1}function j(){clearTimeout(H),oe()}function se(){S=!0;for(let e=0;e<u.length;e++)u[e].lock()}function ne(){u=new Array(I);for(let e=0;e<I;e++)u[e]=new L(e)}var q=e=>{ae(),X=e,requestAnimationFrame(q)},ae=()=>{let e=p.x,t=p.y,n=S,l=Y;for(let r=0;r<u.length;r++){let h=u[r],f=u[r+1]||u[0];h.x=e,h.y=t,h.draw(),(!n||r<=l)&&(e+=(f.x-h.x)*O,t+=(f.y-h.y)*O)}};te();var z=document.querySelector('[wb-data="text"]'),ie=new SplitText(z,{type:"lines"});gsap.set(z,{autoAlpha:1});gsap.from(ie.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"});var a=document.querySelector("canvas");a||(a=document.createElement("canvas"),a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.pointerEvents="none",a.style.zIndex="1000",a.style.width="18.75em",a.style.height="auto",a.style.display="none",document.body.appendChild(a));var m=a.getContext("2d"),d=[...document.querySelectorAll(".project_item")];function A(e,t,n){return e*(1-n)+t*n}var x=0,P=!1,k=.8,_=.8,N=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e754aff0f5394a252a_koi.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],y=[],$=0,U=0,C=0,M=0;window.addEventListener("mousemove",e=>{$=e.clientX,U=e.clientY});var B=0;N.forEach((e,t)=>{let n=new Image;n.onload=()=>{B++,B===N.length&&W()},n.style.width="18.75em",n.style.height="auto",n.style.objectFit="cover",n.classList.add("project-image"),n.style.display="none",n.src=e,document.body.append(n),y.push(n)});var G=0;function re(e){if(!P)return;let n=18.75*parseFloat(getComputedStyle(document.body).fontSize),l=y[e].naturalHeight/y[e].naturalWidth,r=n*l;a.width=n*window.devicePixelRatio,a.height=r*window.devicePixelRatio,a.style.width="18.75em",a.style.height="auto",m.webkitImageSmoothingEnabled=!0,m.mozImageSmoothingEnabled=!0,m.msImageSmoothingEnabled=!0,m.imageSmoothingEnabled=!0,m.save(),m.scale(window.devicePixelRatio,window.devicePixelRatio),m.translate(n/2,r/2),m.scale(k,k),m.translate(-n/2,-r/2),m.drawImage(y[e],0,0,n,r),m.restore()}for(let e=0;e<d.length;e++)d[e].addEventListener("mouseover",()=>{for(let t=0;t<d.length;t++)t!==e?(d[t].style.opacity=.2,d[t].style.zIndex=0):(d[t].style.opacity=1,d[t].style.zIndex=3);a.style.display="block"}),d[e].addEventListener("mouseleave",()=>{for(let t=0;t<d.length;t++)d[t].style.opacity=1;a.style.display="none"}),d[e].addEventListener("mouseenter",()=>{x=e,G=1,P=!0,_=1,a.style.display="block"}),d[e].addEventListener("mouseleave",()=>{G=0,P=!1,_=.8,a.style.display="none"});function W(){C=A(C,$,.075),M=A(M,U,.075),k=A(k,_,.1);let t=18.75*parseFloat(getComputedStyle(document.body).fontSize),n=y[x].naturalHeight/y[x].naturalWidth,l=t*n;a.style.transform=`translate3d(${C-t/2}px, ${M-l/2}px, 0)`,re(x),window.requestAnimationFrame(W)}gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var de=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();function le(){let e={THEMES:"colorThemes_data",PUBLISH_DATE:"colorThemes_publishDate"};function t(){let s=document.documentElement.previousSibling;return s?.nodeType===Node.COMMENT_NODE?new Date(s.textContent.match(/Last Published: (.+?) GMT/)[1]).getTime():null}function n(){try{let s=localStorage.getItem(e.PUBLISH_DATE),o=t();return!o||!s||s!==o.toString()?null:JSON.parse(localStorage.getItem(e.THEMES))}catch(s){return console.warn("Failed to load from localStorage:",s),null}}function l(s){try{let o=t()}catch(o){console.warn("Failed to save to localStorage:",o)}}window.colorThemes={themes:{},getTheme(s="",o=""){if(!s)return this.getTheme(Object.keys(this.themes)[0],o);let i=this.themes[s];return i?!i.brands||Object.keys(i.brands).length===0?i:o?i.brands[o]||{}:i.brands[Object.keys(i.brands)[0]]:{}}};let r=n();if(r){window.colorThemes.themes=r,document.dispatchEvent(new CustomEvent("colorThemesReady"));return}let h=document.querySelector('link[rel="stylesheet"]');if(!h?.href)return null;let f=new Set,w=new Set,g=new Set;fetch(h.href).then(s=>{if(!s.ok)throw new Error(`Failed to fetch stylesheet: ${s.statusText}`);return s.text()}).then(s=>{(s.match(/--_theme[\w-]+:\s*[^;]+/g)||[]).forEach(c=>f.add(c.split(":")[0].trim())),(s.match(/\.(theme|brand)-[\w-]+/g)||[]).forEach(c=>{c.startsWith(".theme-")&&w.add(c)});let o=Array.from(f);function i(c,E=null){let v=document.documentElement.getAttribute("class");document.documentElement.setAttribute("class",""),document.documentElement.classList.add(c,E);let T={};return o.forEach(D=>T[D]=getComputedStyle(document.documentElement).getPropertyValue(D)),document.documentElement.setAttribute("class",v),T}w.forEach(c=>{let E=c.replace(".","").replace("theme-","");window.colorThemes.themes[E]={brands:{}},g.forEach(v=>{let T=v.replace(".","");window.colorThemes.themes[E].brands[T]=i(c.replace(".",""),v.replace(".",""))}),g.size||(window.colorThemes.themes[E]=i(c.replace(".","")))}),l(window.colorThemes.themes),document.dispatchEvent(new CustomEvent("colorThemesReady"))}).catch(s=>console.error("Error:",s.message))}window.addEventListener("DOMContentLoaded",e=>{le()});function ce(){function e(s,o){let i=typeof s;return typeof o!="string"||o.trim()===""?s:o==="true"&&i==="boolean"?!0:o==="false"&&i==="boolean"?!1:isNaN(o)&&i==="string"?o:!isNaN(o)&&i==="number"?+o:s}let t=document.documentElement,n,l="true",r=document.querySelector("[data-theme-toggle-script]");if(!r){console.warn("Script tag with data-theme-toggle-script attribute not found");return}let h=e(.5,r.getAttribute("duration")),f=e("power1.out",r.getAttribute("ease"));function w(s,o){typeof gsap<"u"&&o?gsap.to(t,{...colorThemes.getTheme(s),duration:h,ease:f}):(t.classList.remove("theme-dark"),t.classList.remove("theme-light"),t.classList.add("theme-"+s))}function g(s,o){s?(localStorage.setItem("dark-mode","true"),t.classList.add("dark-mode"),w("dark",o),l="true"):(localStorage.setItem("dark-mode","false"),t.classList.remove("dark-mode"),w("light",o),l="false"),typeof n<"u"&&n.forEach(function(i){i.setAttribute("aria-pressed",l)})}localStorage.getItem("dark-mode")==="false"?g(!1,!1):g(!0,!1),window.addEventListener("DOMContentLoaded",s=>{n=document.querySelectorAll("[data-theme-toggle-button]"),n.forEach(function(o){o.setAttribute("aria-label","Toggle Dark Mode"),o.setAttribute("role","button"),o.setAttribute("aria-pressed",l)}),document.addEventListener("click",function(o){if(o.target.closest("[data-theme-toggle-button]")){let c=t.classList.contains("dark-mode");g(!c,!0)}})})}ce();})();
