(()=>{var Z=document.getElementById("cursor"),I=20,V=Math.floor(I*.3),Y=26,ee=150,j=0,f={x:0,y:0},g=[],H,C=!1,F=.05,O=.35,b=Y/2,te=.05,oe=.75,L=class{constructor(e=0){this.index=e,this.x=0,this.y=0,this.scale=1-te*e,this.range=b-b*this.scale+2,this.limit=Y*oe*this.scale,this.element=document.createElement("span"),gsap.set(this.element,{scale:this.scale}),Z.appendChild(this.element),this.lockX=0,this.lockY=0,this.angleX=0,this.angleY=0}lock(){this.lockX=this.x,this.lockY=this.y,this.angleX=Math.PI*2*Math.random(),this.angleY=Math.PI*2*Math.random()}draw(){!C||this.index<=V?gsap.set(this.element,{x:this.x,y:this.y}):(this.angleX+=F,this.angleY+=F,this.y=this.lockY+Math.sin(this.angleY)*this.range,this.x=this.lockX+Math.sin(this.angleX)*this.range,gsap.set(this.element,{x:this.x,y:this.y}))}},se=t=>{f.x=t.clientX-b,f.y=t.clientY-b,R()},ne=t=>{t.touches.length>0&&(f.x=t.touches[0].clientX-b,f.y=t.touches[0].clientY-b,R())};function le(){window.addEventListener("mousemove",se,{passive:!0}),window.addEventListener("touchmove",ne,{passive:!0}),j=performance.now(),re(),X()}function ie(){H=setTimeout(ce,ee),C=!1}function R(){clearTimeout(H),ie()}function ce(){C=!0;for(let t=0;t<g.length;t++)g[t].lock()}function re(){g=new Array(I);for(let t=0;t<I;t++)g[t]=new L(t)}var X=t=>{ae(),j=t,requestAnimationFrame(X)},ae=()=>{let t=f.x,e=f.y,o=C,n=V;for(let s=0;s<g.length;s++){let l=g[s],u=g[s+1]||g[0];l.x=t,l.y=e,l.draw(),(!o||s<=n)&&(t+=(u.x-l.x)*O,e+=(u.y-l.y)*O)}};le();var q=document.querySelector('[wb-data="text"]'),he=new SplitText(q,{type:"lines"});gsap.set(q,{autoAlpha:1});gsap.from(he.lines,{autoAlpha:0,lineHeight:"3em",duration:1.5,clearProps:"lineHeight"});var i=document.querySelector("canvas");i||(i=document.createElement("canvas"),i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.pointerEvents="none",i.style.zIndex="1000",i.style.width="18.75em",i.style.height="auto",i.style.display="none",document.body.appendChild(i));var h=i.getContext("2d"),a=[...document.querySelectorAll(".project_item")];function A(t,e,o){return t*(1-o)+e*o}var x=0,_=!1,k=.8,M=.8,z=["https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e754aff0f5394a252a_koi.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e79a7da07ce4b79e9d_reflection.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e6114beeb6006a3543_eon.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e735b067eddebcf47e_snapscan.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e7afe47c28b849fcfe_coastal.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e78b85adce878637a1_flarion.avif","https://cdn.prod.website-files.com/60f007b4ffba6aa104bcca7c/684445e751a8b2f1e38d9588_vocai.avif"],p=[],U=0,W=0,$=0,P=0;window.addEventListener("mousemove",t=>{U=t.clientX,W=t.clientY});var G=0;z.forEach((t,e)=>{let o=new Image;o.onload=()=>{G++,G===z.length&&J()},o.style.width="18.75em",o.style.height="auto",o.style.objectFit="cover",o.classList.add("project-image"),o.style.display="none",o.src=t,document.body.append(o),p.push(o)});var N=0;function de(t){if(!_)return;let o=18.75*parseFloat(getComputedStyle(document.body).fontSize),n=p[t].naturalHeight/p[t].naturalWidth,s=o*n;i.width=o*window.devicePixelRatio,i.height=s*window.devicePixelRatio,i.style.width="18.75em",i.style.height="auto",h.webkitImageSmoothingEnabled=!0,h.mozImageSmoothingEnabled=!0,h.msImageSmoothingEnabled=!0,h.imageSmoothingEnabled=!0,h.save(),h.scale(window.devicePixelRatio,window.devicePixelRatio),h.translate(o/2,s/2),h.scale(k,k),h.translate(-o/2,-s/2),h.drawImage(p[t],0,0,o,s),h.restore()}for(let t=0;t<a.length;t++)a[t].addEventListener("mouseover",()=>{for(let e=0;e<a.length;e++)e!==t?(a[e].style.opacity=.2,a[e].style.zIndex=0):(a[e].style.opacity=1,a[e].style.zIndex=3);i.style.display="block"}),a[t].addEventListener("mouseleave",()=>{for(let e=0;e<a.length;e++)a[e].style.opacity=1;i.style.display="none"}),a[t].addEventListener("mouseenter",()=>{x=t,N=1,_=!0,M=1,i.style.display="block"}),a[t].addEventListener("mouseleave",()=>{N=0,_=!1,M=.8,i.style.display="none"});function J(){$=A($,U,.075),P=A(P,W,.075),k=A(k,M,.1);let e=18.75*parseFloat(getComputedStyle(document.body).fontSize),o=p[x].naturalHeight/p[x].naturalWidth,n=e*o;i.style.transform=`translate3d(${$-e/2}px, ${P-n/2}px, 0)`,de(x),window.requestAnimationFrame(J)}gsap.registerPlugin(ScrollSmoother,ScrollTrigger);var fe=ScrollSmoother.create({smooth:1.2,effects:!0});document.getElementById("year").textContent=new Date().getFullYear();console.log("\u{1F50D} Theme Collector: Starting collection...");function K(){let t=[];return document.querySelectorAll("*").forEach(o=>{let n=window.getComputedStyle(o),s=!1,l=o.style.cssText;l.includes("var(--_theme")&&(console.log("\u{1F3A8} Found element with theme variables:",o),console.log("   CSS:",l),t.push({element:o,cssText:l}));let u={backgroundColor:n.backgroundColor,color:n.color,borderColor:n.borderColor};Object.entries(u).forEach(([S,y])=>{y.includes("var(--_theme")&&(console.log(`\u{1F3A8} Found ${S} using theme variable:`,o),console.log(`   Value: ${y}`))})}),t}function Q(){let t=document.documentElement,e=window.getComputedStyle(t);console.log("\u{1F3A8} CSS Variables found:");let o=[];for(let n=0;n<e.length;n++){let s=e[n];if(s.startsWith("--_theme")){let l=e.getPropertyValue(s);console.log(`   ${s}: ${l}`),o.push({property:s,value:l})}}return o}function me(){let t=document.querySelector("[data-theme-toggle-button]");t?(console.log("\u2705 Theme toggle button found:",t),console.log("   Classes:",t.className),console.log("   Attributes:",t.attributes)):console.log("\u274C Theme toggle button not found")}function ue(){let e=document.documentElement.getAttribute("data-theme");console.log("\u{1F3AD} Current theme:",e||"light (default)");let o=document.body,n=window.getComputedStyle(o);console.log("\u{1F3A8} Body styles:"),console.log("   Background:",n.backgroundColor),console.log("   Color:",n.color)}function B(){console.log("=== THEME SYSTEM DEBUG ==="),me(),ue(),Q(),K(),console.log("=== END DEBUG ===")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",B):B();window.themeCollector={debug:B,collectElements:K,collectVariables:Q};function ge(){let t={THEMES:"colorThemes_data",PUBLISH_DATE:"colorThemes_publishDate"};function e(){let c=document.documentElement.previousSibling;return c?.nodeType===Node.COMMENT_NODE?new Date(c.textContent.match(/Last Published: (.+?) GMT/)[1]).getTime():null}function o(){try{let c=localStorage.getItem(t.PUBLISH_DATE),r=e();return!r||!c||c!==r.toString()?null:JSON.parse(localStorage.getItem(t.THEMES))}catch(c){return console.warn("Failed to load from localStorage:",c),null}}function n(c){try{let r=e()}catch(r){console.warn("Failed to save to localStorage:",r)}}window.colorThemes={themes:{},getTheme(c="",r=""){if(!c)return this.getTheme(Object.keys(this.themes)[0],r);let d=this.themes[c];return d?!d.brands||Object.keys(d.brands).length===0?d:r?d.brands[r]||{}:d.brands[Object.keys(d.brands)[0]]:{}}};let s=o();if(s){window.colorThemes.themes=s,document.dispatchEvent(new CustomEvent("colorThemesReady"));return}let l=document.querySelector('link[rel="stylesheet"]');if(!l?.href)return null;let u=new Set,S=new Set,y=new Set;fetch(l.href).then(c=>{if(!c.ok)throw new Error(`Failed to fetch stylesheet: ${c.statusText}`);return c.text()}).then(c=>{(c.match(/--_theme[\w-]+:\s*[^;]+/g)||[]).forEach(m=>u.add(m.split(":")[0].trim())),(c.match(/\.(theme|brand)-[\w-]+/g)||[]).forEach(m=>{m.startsWith(".theme-")&&S.add(m)});let r=Array.from(u);function d(m,w=null){let E=document.documentElement.getAttribute("class");document.documentElement.setAttribute("class",""),document.documentElement.classList.add(m,w);let v={};return r.forEach(D=>v[D]=getComputedStyle(document.documentElement).getPropertyValue(D)),document.documentElement.setAttribute("class",E),v}S.forEach(m=>{let w=m.replace(".","").replace("theme-","");window.colorThemes.themes[w]={brands:{}},y.forEach(E=>{let v=E.replace(".","");window.colorThemes.themes[w].brands[v]=d(m.replace(".",""),E.replace(".",""))}),y.size||(window.colorThemes.themes[w]=d(m.replace(".","")))}),n(window.colorThemes.themes),document.dispatchEvent(new CustomEvent("colorThemesReady"))}).catch(c=>console.error("Error:",c.message))}window.addEventListener("DOMContentLoaded",t=>{ge()});var T=class{constructor(){this.currentTheme="light",this.toggleButton=null,this.themes={},this.init()}init(){if(this.toggleButton=document.querySelector("[data-theme-toggle-button]"),!this.toggleButton){console.error("\u274C Theme toggle button not found");return}this.waitForCollector()}waitForCollector(){window.themeCollector&&window.themeCollector.collectVariables?this.setupThemes():setTimeout(()=>this.waitForCollector(),100)}setupThemes(){let e=document.documentElement,o=window.getComputedStyle(e),n={};for(let s=0;s<o.length;s++){let l=o[s];if(l.startsWith("--_theme")){let u=o.getPropertyValue(l);n[l]=u}}console.log("\u{1F3A8} Collected theme variables:",n),this.themes.light={...n},this.themes.dark={},Object.entries(n).forEach(([s,l])=>{s.includes("bg-color")?this.themes.dark[s]=this.invertColor(l):s.includes("txt-color")?this.themes.dark[s]=this.invertColor(l):this.themes.dark[s]=l}),console.log("\u{1F3AD} Generated themes:",this.themes),this.loadTheme(),this.toggleButton.addEventListener("click",()=>this.toggle()),this.toggleButton.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),this.toggle())}),console.log("\u2705 Theme toggle initialized with dynamic themes")}invertColor(e){if(e.includes("rgb")){let o=e.match(/\d+/g);if(o&&o.length>=3){let n=255-parseInt(o[0]),s=255-parseInt(o[1]),l=255-parseInt(o[2]);return`rgb(${n}, ${s}, ${l})`}}else if(e.includes("#")){let o=e.replace("#",""),n=(255-parseInt(o.substr(0,2),16)).toString(16).padStart(2,"0"),s=(255-parseInt(o.substr(2,2),16)).toString(16).padStart(2,"0"),l=(255-parseInt(o.substr(4,2),16)).toString(16).padStart(2,"0");return`#${n}${s}${l}`}return e}loadTheme(){let e=localStorage.getItem("theme");e&&this.themes[e]?(console.log(`\u{1F4F1} Loading saved theme: ${e}`),this.setTheme(e)):(console.log("\u{1F4F1} No saved theme preference, staying with default light theme"),this.setTheme("light"))}setTheme(e){if(!this.themes[e]){console.error(`\u274C Theme "${e}" not found`);return}this.currentTheme=e;let o=document.documentElement;console.log(`\u{1F3A8} Applying theme "${e}":`,this.themes[e]),Object.entries(this.themes[e]).forEach(([n,s])=>{o.style.setProperty(n,s),console.log(`   Set ${n} = ${s}`)}),o.setAttribute("data-theme",e),console.log(`   Set data-theme = "${e}"`),setTimeout(()=>{let n=window.getComputedStyle(o);console.log("\u{1F50D} Verification - Applied styles:"),Object.keys(this.themes[e]).forEach(s=>{let l=n.getPropertyValue(s);console.log(`   ${s}: ${l}`)})},100),this.updateButton(),localStorage.setItem("theme",e),console.log(`\u{1F3AD} Theme switched to: ${e}`)}toggle(){let e=this.currentTheme==="light"?"dark":"light";console.log(`\u{1F504} Toggling from ${this.currentTheme} to ${e}`),this.setTheme(e)}updateButton(){if(!this.toggleButton)return;let e=this.toggleButton.querySelector(".lights-on");if(e){let n=this.currentTheme==="light"?"lights off":"lights on";e.textContent=n,console.log(`\u{1F4A1} Button text updated to: "${n}" (theme: ${this.currentTheme})`)}else console.warn("\u26A0\uFE0F .lights-on div not found in toggle button");this.toggleButton.setAttribute("aria-pressed",this.currentTheme==="dark");let o=this.currentTheme==="light"?"Switch to Dark Mode":"Switch to Light Mode";this.toggleButton.setAttribute("aria-label",o)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{new T}):new T;window.themeToggle=T;})();
