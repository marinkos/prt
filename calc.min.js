(()=>{var e={hourlyRate:70,profitMargin:.43,weeklyHours:25,pageComplexity:{simple:4,middling:8,complex:12},templateMultiplier:.4,interactions:{static:1,medium:1.15,complex:1.5},cmsHours:{blog:3,"case-studies":4,team:2,"open-roles":3,"help-center":5,services:4,podcast:4,other:6},integrationHours:{ga:.5,mailchimp:1,"hot-jar":1.5,hubspot:2,chat:1,paypal:3,other:4},timeline:{flexible:.9,standard:1,rush:1.4}},t="https://script.google.com/macros/s/AKfycbxE1khcBP3cYMrCQ4lqmYxsKDEYW2dsFLXBPETJarEXw6l6CqKzujku86KHfu0HdCx3/exec",n=!0;function i(){var t=$('input[name="complexity"]:checked').val()||"simple",n=parseInt($('input[name="unique"]').val())||1,i=parseInt($('input[name="template"]').val())||0,a=$('input[name="interactions"]:checked').val()||"static",o=$('input[name="timeline"]:checked').val()||"standard",r=e.pageComplexity[t],c=0;c+=n*r,c+=i*r*e.templateMultiplier,c*=e.interactions[a];var u=0;$('input[name="cms"]:checked').each(function(){var t=$(this).val();"no"!==t&&e.cmsHours[t]&&(u+=e.cmsHours[t])}),c+=u;var s=0;$('input[name="integrations"]:checked').each(function(){var t=$(this).val();"no"!==t&&e.integrationHours[t]&&(s+=e.integrationHours[t])});var l=(c+=s)*e.hourlyRate,p=l*e.timeline[o],d=p*e.profitMargin,m=p+d;m=Math.max(m,500);var h=Math.ceil(c/e.weeklyHours);return{hours:Math.round(10*c)/10,cost:100*Math.round(m/100),costInK:Math.round(m/100)/10,weeks:h,breakdown:{baseCost:Math.round(l),timelineAdjustment:Math.round(p-l),profit:Math.round(d),totalHours:Math.round(10*c)/10}}}function a(){return window.calculatorSessionId||(window.calculatorSessionId="session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)),window.calculatorSessionId}function o(e,i){var o={sessionId:a(),timestamp:(new Date).toISOString(),triggerType:i,complexity:$('input[name="complexity"]:checked').val()||"",uniquePages:$('input[name="unique"]').val()||"",templatePages:$('input[name="template"]').val()||"",interactions:$('input[name="interactions"]:checked').val()||"",timeline:$('input[name="timeline"]:checked').val()||"",cmsOptions:$('input[name="cms"]:checked').map(function(){return this.value}).get(),integrationOptions:$('input[name="integrations"]:checked').map(function(){return this.value}).get(),estimatedHours:e.hours,estimatedCost:e.cost,estimatedWeeks:e.weeks,referrer:document.referrer||window.location.href};!function(e){if(n){e.sessionId=a();var i=new URLSearchParams;Object.keys(e).forEach(function(t){var n=Array.isArray(e[t])?e[t].join(","):e[t];i.append(t,n)});var o=document.createElement("script"),r="trackingCallback_"+Date.now();window[r]=function(e){console.log("Tracking success:",e),document.head.removeChild(o),delete window[r]},o.onerror=function(){console.error("Tracking error: JSONP request failed"),document.head.removeChild(o),delete window[r]},o.src="".concat(t,"?").concat(i.toString(),"&callback=").concat(r),document.head.appendChild(o)}}(o),console.log("Tracking data:",o)}function r(){var e=!1,t=!1;function n(n){var a,r,c,u=i();!t&&u.cost<=500||((a=$('input[name="complexity"]:checked').length>0,r=parseInt($('input[name="unique"]').val())>0,c=$('input[name="interactions"]:checked').length>0,a&&r&&c)&&!e?(o(u,"complete"),e=!0):t&&u.cost>500&&o(u,n))}document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&t&&n("exit")}),setTimeout(function(){t&&n("time_spent")},3e4);var a=!1;return window.addEventListener("scroll",function(){if(t){var e=document.querySelector(".calc_component");if(e){var i=e.getBoundingClientRect();i.bottom>0&&i.top<window.innerHeight||a||(a=!0,n("scroll_away"))}}}),{checkAndTrack:n,markInteraction:function(){t=!0}}}function c(){if($('input[type="radio"]:checked').length>0||$('input[type="checkbox"]:checked').length>0||$('input[type="number"]').val()&&parseInt($('input[type="number"]').val())>0){window.trackingSetup&&window.trackingSetup.markInteraction();var e,t,n,a=i();e=a.costInK,t=document.querySelector("#totalQuote"),n=parseFloat(t.textContent)||0,gsap.fromTo(t,{innerText:n},{duration:.3,innerText:e,ease:"power2.out",modifiers:{innerText:function(e){return Math.round(10*e)/10}}}),window.trackingSetup&&window.trackingSetup.checkAndTrack("interaction"),console.log("Project Calculation:",a)}else $("#totalQuote").text("0")}$(document).ready(function(){window.trackingSetup=r(),$("#totalQuote").text("0"),$('input[type="radio"], input[type="checkbox"], input[type="number"]').on("change input",function(){c()}),$(".answer_arrow").on("click",function(){var e,t=$(this).siblings('input[type="number"]'),n=$(this).hasClass("tp"),i=parseInt(t.val())||0;if(n)e=i+1;else{var a=parseInt(t.attr("min"))||0;e=Math.max(a,i-1)}t.val(e).trigger("change")})})})();